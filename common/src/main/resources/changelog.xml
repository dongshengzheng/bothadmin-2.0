<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog 
                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <changeSet author="WangShun" id="15950097942-001">
        <addColumn tableName="sys_user">
            <column name="email_status" remarks="邮箱验证状态" type="int(3)">
            </column>
            <column name="email_time" remarks="邮箱验证开始时间" type="datetime">
            </column>
            <column name="email_code" remarks="邮箱验证码" type="varchar(200)">
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="WangShun" id="15950097942-002">
        <sql>
            insert INTO sys_button(menu_id,button_name,button_url,del_flag) VALUES(106,'更改样式','account/editStyle',0);
            insert INTO sys_button(menu_id,button_name,button_url,del_flag) VALUES(106,'更改个人姓名','account/editName',0);
            insert INTO sys_button(menu_id,button_name,button_url,del_flag) VALUES(106,'更改密码','account/editPassword',0);
            insert INTO sys_button(menu_id,button_name,button_url,del_flag) VALUES(106,'更改手机号码','account/editPhone',0);
            insert INTO sys_button(menu_id,button_name,button_url,del_flag) VALUES(106,'更改电子邮箱','account/editEmail',0);
        </sql>
    </changeSet>
    <changeSet author="WangShun" id="15950097942-003">
        <sql>
            ALTER TABLE `t_ship` CHANGE COLUMN `class` `ship_class` varchar(45) DEFAULT NULL COMMENT '船级社';
        </sql>
    </changeSet>
    <changeSet author="WangShun" id="15950097942-004">
        <sql>
            ALTER TABLE `t_style` CHANGE COLUMN `desc` `des` varchar(30) DEFAULT NULL COMMENT '描述';
        </sql>
    </changeSet>
    <changeSet author="WangShun" id="15950097942-005">
        <sql>
            insert INTO t_style(des,color) VALUES('default','dark');
            insert INTO t_style(des,color) VALUES('blue','blue');
            insert INTO t_style(des,color) VALUES('darkblue','blue-dark');
            insert INTO t_style(des,color) VALUES('grey','grey');
            insert INTO t_style(des,color) VALUES('light','white');
            insert INTO t_style(des,color) VALUES('light2','grey-cararra');
        </sql>
    </changeSet>
    <changeSet author="LuZhen" id="17317309132-001">
        <sql>
            alter table t_ship CHANGE builde_year build_year date;
        </sql>
    </changeSet>
    <changeSet author="LuZhen" id="17317309132-002">
        <sql>
            CREATE TABLE `t_private_shipyard` (
            `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '船东关联的船厂的id',
            `name` varchar(45) DEFAULT NULL,
            `group_company` varchar(45) DEFAULT NULL COMMENT '集团公司',
            `country` varchar(45) DEFAULT NULL COMMENT '国家',
            `city` varchar(45) DEFAULT NULL COMMENT '城市',
            `location` varchar(45) DEFAULT NULL COMMENT '位置',
            `tel` varchar(45) DEFAULT NULL COMMENT '电话',
            `email` varchar(45) DEFAULT NULL COMMENT '邮箱',
            `create_date` date DEFAULT NULL COMMENT '创建时间',
            `create_by` varchar(45) DEFAULT NULL COMMENT '创建用户',
            `update_date` date DEFAULT NULL COMMENT '修改时间',
            `update_by` varchar(45) NOT NULL COMMENT '修改用户',
            `del_flag` int(11) DEFAULT '0' COMMENT '状态',
            `company_id` int(11) DEFAULT NULL COMMENT '公司id',
            `shipyard_id` int(11) DEFAULT NULL COMMENT '船厂的id',
            PRIMARY KEY (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
        </sql>
    </changeSet>
    <changeSet author="LuZhen" id="17317309132-003">
        <sql>
            alter table t_wharf_detail CHANGE lengh length int (11);
            alter table t_wharf_detail CHANGE protocol draft int(11);
            alter table t_berth_detail CHANGE protocol draft int(11);
        </sql>
    </changeSet>
    <changeSet author="LuZhen" id="17317309132-005">
        <sql>
            alter table t_private_shipyard add contact_name varchar(10)
        </sql>
    </changeSet>
    <changeSet author="LuZhen" id="17317309132-006">
        <sql>
            alter table t_ship add dd varchar(45);
            alter table t_ship add ss varchar(45);
            alter table t_private_shipyard modify column contact_name varchar(45);
        </sql>
    </changeSet>
    <changeSet author="LuZhen" id="17317309132-007">
        <sql>
            alter table t_private_shipyard add logo varchar(100);
        </sql>
    </changeSet>
</databaseChangeLog>